{"version":3,"file":"rh-dropdown-menu.js","sources":["rh-dropdown-menu.js"],"sourcesContent":["/*\n * Copyright 2018 Red Hat, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport RHElement from \"../rhelement/rhelement.js\";\n\nclass RhDropdownMenu extends RHElement {\n  get html() {\n    return `\n<style>\n:host *, :host *::before, :host *::after {\n  box-sizing: border-box; }\n\n:host ul {\n  position: absolute;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n  border: 1px solid #ccc;\n  background: #fff;\n  width: 100%;\n  min-width: 10em; }\n  :host ul li {\n    margin: 0;\n    padding: 0; }\n  :host ul a {\n    display: block;\n    padding: 0.5rem 1rem;\n    text-decoration: none;\n    color: #333;\n    line-height: 1.5; }\n    :host ul a:hover, :host ul a:focus {\n      background: #e7e7e7; }\n    :host ul a:active {\n      background: #06c;\n      color: #fff; }\n</style>\n`;\n  }\n\n  static get tag() {\n    return \"rh-dropdown-menu\";\n  }\n\n  get styleUrl() {\n    return \"rh-dropdown-menu.scss\";\n  }\n\n  get templateUrl() {\n    return \"rh-dropdown-menu.html\";\n  }\n\n  constructor() {\n    super(RhDropdownMenu.tag);\n  }\n\n  connectedCallback() {\n    const child = this.children[0];\n\n    if (child && child.tagName == \"UL\") {\n      this._assignMenuARIA(child);\n      this.shadowRoot.appendChild(child);\n    } else {\n      console.warn(\n        \"The first child in the light DOM must be an unordered list\"\n      );\n    }\n  }\n\n  disconnectedCallback() {}\n\n  _assignMenuARIA(list) {\n    list.setAttribute(\"role\", \"menu\");\n    list.setAttribute(\"hidden\", \"hidden\");\n\n    let listItems = list.childNodes;\n\n    listItems.forEach(item => {\n      if (item.nodeName == \"LI\") {\n        item.setAttribute(\"role\", \"none\");\n        let achild = item.children[0];\n        if (achild && achild.tagName == \"A\") {\n          achild.setAttribute(\"role\", \"menuitem\");\n          achild.setAttribute(\"tabindex\", \"-1\");\n        }\n      }\n    });\n  }\n}\n\nRHElement.create(RhDropdownMenu);\n"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;;AAqBA,AAEA;AACA,MAAM,cAAc,SAAS,SAAS,CAAC;EACrC,IAAI,IAAI,GAAG;IACT,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BZ,CAAC,CAAC;GACC;;EAED,WAAW,GAAG,GAAG;IACf,OAAO,kBAAkB,CAAC;GAC3B;;EAED,IAAI,QAAQ,GAAG;IACb,OAAO,uBAAuB,CAAC;GAChC;;EAED,IAAI,WAAW,GAAG;IAChB,OAAO,uBAAuB,CAAC;GAChC;;EAED,WAAW,GAAG;IACZ,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;GAC3B;;EAED,iBAAiB,GAAG;IAClB,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;;IAE/B,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,IAAI,IAAI,EAAE;MAClC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;MAC5B,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACpC,MAAM;MACL,OAAO,CAAC,IAAI;QACV,4DAA4D;OAC7D,CAAC;KACH;GACF;;EAED,oBAAoB,GAAG,EAAE;;EAEzB,eAAe,CAAC,IAAI,EAAE;IACpB,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAClC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;;IAEtC,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;;IAEhC,SAAS,CAAC,OAAO,CAAC,IAAI,IAAI;MACxB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;QACzB,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAClC,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC9B,IAAI,MAAM,IAAI,MAAM,CAAC,OAAO,IAAI,GAAG,EAAE;UACnC,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;UACxC,MAAM,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;SACvC;OACF;KACF,CAAC,CAAC;GACJ;CACF;;AAED,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC"}