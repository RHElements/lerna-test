{"version":3,"file":"rh-multiswitch.js","sources":["rh-multiswitch.js"],"sourcesContent":["/*\n * Copyright 2018 Red Hat, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport RHElement from \"../rhelement/rhelement.js\";\n\nclass RhMultiswitch extends RHElement {\n  get html() {\n    return `\n<style>\n:host {\n  display: block; }\n\n::slotted(*) {\n  display: none; }\n\n.rh-multiswitch__fieldset {\n  border: 0;\n  padding: 0; }\n  .rh-multiswitch__fieldset *, .rh-multiswitch__fieldset *::before, .rh-multiswitch__fieldset *::after {\n    box-sizing: border-box; }\n  .rh-multiswitch__fieldset legend {\n    display: block;\n    margin-bottom: 10px;\n    font-weight: 600; }\n\n.rh-multiswitch__container {\n  position: relative;\n  display: flex;\n  flex: 1 1 auto;\n  max-width: 50em;\n  line-height: 2em;\n  user-select: none;\n  background: #333;\n  color: #fff;\n  transition: background 0.1s ease-out;\n  box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.3); }\n  .rh-multiswitch__container input {\n    position: absolute;\n    left: -200vw; }\n    .rh-multiswitch__container input:checked ~ a {\n      left: 0;\n      box-shadow: 1px 0 0 rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.25); }\n    .rh-multiswitch__container input:not(:first-child):checked ~ a {\n      box-shadow: 1px 0 0 rgba(0, 0, 0, 0.2), -1px 0 0 rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.25); }\n    .rh-multiswitch__container input:focus ~ a {\n      outline: 2px solid #0088ce; }\n  .rh-multiswitch__container label {\n    width: 50%;\n    text-align: center;\n    padding-left: 1em;\n    padding-right: 1em;\n    z-index: 2;\n    cursor: pointer;\n    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.4); }\n    .rh-multiswitch__container label:nth-last-child(6),\n    .rh-multiswitch__container label:nth-last-child(6) ~ label,\n    .rh-multiswitch__container label:nth-last-child(6) ~ a {\n      width: 33.3334%; }\n    .rh-multiswitch__container label:nth-last-child(8),\n    .rh-multiswitch__container label:nth-last-child(8) ~ label,\n    .rh-multiswitch__container label:nth-last-child(8) ~ a {\n      width: 25%; }\n    .rh-multiswitch__container label:nth-last-child(10),\n    .rh-multiswitch__container label:nth-last-child(10) ~ label,\n    .rh-multiswitch__container label:nth-last-child(10) ~ a {\n      width: 20%; }\n    .rh-multiswitch__container label:nth-last-child(12),\n    .rh-multiswitch__container label:nth-last-child(12) ~ label,\n    .rh-multiswitch__container label:nth-last-child(12) ~ a {\n      width: 16.6667%; }\n    .rh-multiswitch__container label:nth-last-child(4) ~ input:nth-child(3):checked ~ a {\n      left: 50%; }\n    .rh-multiswitch__container label:nth-last-child(6) ~ input:nth-child(3):checked ~ a {\n      left: 33.3334%; }\n    .rh-multiswitch__container label:nth-last-child(6) ~ input:nth-child(5):checked ~ a {\n      left: 66.6667%; }\n    .rh-multiswitch__container label:nth-last-child(8) ~ input:nth-child(3):checked ~ a {\n      left: 25%; }\n    .rh-multiswitch__container label:nth-last-child(8) ~ input:nth-child(5):checked ~ a {\n      left: 50%; }\n    .rh-multiswitch__container label:nth-last-child(8) ~ input:nth-child(7):checked ~ a {\n      left: 75%; }\n    .rh-multiswitch__container label:nth-last-child(10) ~ input:nth-child(3):checked ~ a {\n      left: 20%; }\n    .rh-multiswitch__container label:nth-last-child(10) ~ input:nth-child(5):checked ~ a {\n      left: 40%; }\n    .rh-multiswitch__container label:nth-last-child(10) ~ input:nth-child(7):checked ~ a {\n      left: 60%; }\n    .rh-multiswitch__container label:nth-last-child(10) ~ input:nth-child(9):checked ~ a {\n      left: 80%; }\n    .rh-multiswitch__container label:nth-last-child(12) ~ input:nth-child(3):checked ~ a {\n      left: 16.6667%; }\n    .rh-multiswitch__container label:nth-last-child(12) ~ input:nth-child(5):checked ~ a {\n      left: 33.3334%; }\n    .rh-multiswitch__container label:nth-last-child(12) ~ input:nth-child(7):checked ~ a {\n      left: 50%; }\n    .rh-multiswitch__container label:nth-last-child(12) ~ input:nth-child(9):checked ~ a {\n      left: 66.6667%; }\n    .rh-multiswitch__container label:nth-last-child(12) ~ input:nth-child(11):checked ~ a {\n      left: 83.3334%; }\n    .rh-multiswitch__container label:nth-last-child(4) ~ input:nth-child(3):checked ~ a,\n    .rh-multiswitch__container label:nth-last-child(6) ~ input:nth-child(5):checked ~ a,\n    .rh-multiswitch__container label:nth-last-child(8) ~ input:nth-child(7):checked ~ a,\n    .rh-multiswitch__container label:nth-last-child(10) ~ input:nth-child(9):checked ~ a,\n    .rh-multiswitch__container label:nth-last-child(12) ~ input:nth-child(11):checked ~ a {\n      box-shadow: -1px 0 0 rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.25); }\n  .rh-multiswitch__container .rh-multiswitch__slide {\n    position: absolute;\n    left: 50%;\n    z-index: 1;\n    height: 100%;\n    width: 50%;\n    transition: left 0.1s ease-out;\n    box-shadow: 1px 0 0 rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.15);\n    background: #0088ce;\n    border: 1px solid #005f90; }\n\n\n.multiswitch[data-theme=\"stoplight\"] .slide-container > a {\n  background: #c00;\n  border-color: #8a0000; }\n\n.multiswitch[data-theme=\"stoplight\"] input:not(:first-child):checked ~ a {\n  background: #ec7a08;\n  border-color: #bc6106; }\n\n.multiswitch[data-theme=\"stoplight\"] label:nth-last-child(4) ~ input:nth-child(3):checked ~ a,\n.multiswitch[data-theme=\"stoplight\"] label:nth-last-child(6) ~ input:nth-child(5):checked ~ a,\n.multiswitch[data-theme=\"stoplight\"] label:nth-last-child(8) ~ input:nth-child(7):checked ~ a,\n.multiswitch[data-theme=\"stoplight\"] label:nth-last-child(10) ~ input:nth-child(9):checked ~ a,\n.multiswitch[data-theme=\"stoplight\"] label:nth-last-child(12) ~ input:nth-child(11):checked ~ a {\n  background: #3f9c35;\n  border-color: #307628; }\n</style>\n<slot></slot>`;\n  }\n\n  static get tag() {\n    return \"rh-multiswitch\";\n  }\n\n  get styleUrl() {\n    return \"rh-multiswitch.scss\";\n  }\n\n  get templateUrl() {\n    return \"rh-multiswitch.html\";\n  }\n\n  constructor() {\n    super(RhMultiswitch.tag);\n\n    this._slotChange = this._slotChange.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    let slot = this.shadowRoot.querySelector(\"slot\");\n    slot.addEventListener(\"slotchange\", this._slotChange);\n  }\n\n  disconnectedCallback() {}\n\n  _slotChange(event) {\n    // Make sure we're applying proper form semantics\n    const firstChild = this.children[0];\n    if (!firstChild) {\n      console.warn(\n        \"The first child in the light DOM must be a fieldset (<fieldset>) with a legend\"\n      );\n    } else if (firstChild && firstChild.tagName.toLowerCase() !== \"fieldset\") {\n      console.warn(\n        \"The first child in the light DOM must be a fieldset (<fieldset>) with a legend\"\n      );\n    } else {\n      let fieldset = this.querySelector(\"fieldset\");\n      fieldset.classList.add(\"rh-multiswitch__fieldset\");\n\n      // Wrap everything with a <div>\n      let wrapper = document.createElement(\"div\");\n      wrapper.classList.add(\"rh-multiswitch__container\");\n      while (fieldset.childNodes.length > 0) {\n        wrapper.appendChild(fieldset.childNodes[0]);\n      }\n      fieldset.appendChild(wrapper);\n\n      // Add a \"slide\" at the end\n      let slide = document.createElement(\"a\");\n      slide.classList.add(\"rh-multiswitch__slide\");\n      slide.setAttribute(\"aria-hidden\", \"true\");\n      wrapper.appendChild(slide);\n\n      let legend = this.querySelector(\"legend\");\n      fieldset.insertBefore(legend, wrapper);\n\n      let fieldsetClone = fieldset.cloneNode(true);\n\n      // TODO: Figure out how to clear children before appending so the copy is clean.\n      this.shadowRoot.appendChild(fieldsetClone);\n    }\n  }\n}\n\nRHElement.create(RhMultiswitch);\n"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;;AAqBA,AAEA;AACA,MAAM,aAAa,SAAS,SAAS,CAAC;EACpC,IAAI,IAAI,GAAG;IACT,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aA+HC,CAAC,CAAC;GACZ;;EAED,WAAW,GAAG,GAAG;IACf,OAAO,gBAAgB,CAAC;GACzB;;EAED,IAAI,QAAQ,GAAG;IACb,OAAO,qBAAqB,CAAC;GAC9B;;EAED,IAAI,WAAW,GAAG;IAChB,OAAO,qBAAqB,CAAC;GAC9B;;EAED,WAAW,GAAG;IACZ,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;;IAEzB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GAChD;;EAED,iBAAiB,GAAG;IAClB,KAAK,CAAC,iBAAiB,EAAE,CAAC;;IAE1B,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IACjD,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;GACvD;;EAED,oBAAoB,GAAG,EAAE;;EAEzB,WAAW,CAAC,KAAK,EAAE;;IAEjB,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACpC,IAAI,CAAC,UAAU,EAAE;MACf,OAAO,CAAC,IAAI;QACV,gFAAgF;OACjF,CAAC;KACH,MAAM,IAAI,UAAU,IAAI,UAAU,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,UAAU,EAAE;MACxE,OAAO,CAAC,IAAI;QACV,gFAAgF;OACjF,CAAC;KACH,MAAM;MACL,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;MAC9C,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;;;MAGnD,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;MAC5C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;MACnD,OAAO,QAAQ,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;QACrC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;OAC7C;MACD,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;;MAG9B,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;MACxC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;MAC7C,KAAK,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;MAC1C,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;MAE3B,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;MAC1C,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;;MAEvC,IAAI,aAAa,GAAG,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;;;MAG7C,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;KAC5C;GACF;CACF;;AAED,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC"}