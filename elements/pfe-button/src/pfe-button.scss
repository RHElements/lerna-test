// Please see the pfe-sass README for guidance on using these tools
@import "../../pfe-sass/pfe-sass";

$LOCAL: button;

$LOCAL-VARIABLES: (
  BackgroundColor: #{pfe-var(ui-accent)},
  BackgroundColor--hover: #{pfe-var(ui-accent--hover)},
  Color: #{pfe-var(ui-base--text)},
  FontSize: #{pfe-var(font-size)},
  Border: 0,
  Border--after: 1px solid,
  BorderColor--after: transparent,
  BorderRadius: #{pfe-var(surface--border-radius)},
  Padding: calc(#{pfe-var(container-padding)} / 2) #{pfe-var(container-padding)},
  LineHeight: 1.5,
);

:host {
  display: inline-block;
}

:host([hidden]) {
  display: none;
}

:host([pfe-variant="primary"]) button,
button {
  background-color: #{pfe-local(BackgroundColor)};
  color: #{pfe-local(Color)};
  font-size: #{pfe-local(FontSize)};
  font-family: #{pfe-var(font-family, $fallback: inherit)};
  padding: #{pfe-local(Padding)};
  cursor: pointer;
  border-radius: #{pfe-local(BorderRadius)};
  border: #{pfe-local(Border)};
  position: relative;
  line-height: #{pfe-local(LineHeight)};

  &:after {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: "";
    border: #{pfe-local(Border--after)};
    border-color: #{pfe-local(BorderColor--after)};
    border-radius: #{pfe-local(BorderRadius)};
  }

  &:hover,
  &:focus {
    --pfe-button--BackgroundColor: #{pfe-local(BackgroundColor--hover)};
  }
}

:host([pfe-variant="secondary"]) {
  button {
    --pfe-button--BackgroundColor: transparent;
    --pfe-button--Color: #{pfe-var(ui-accent)};

    &:after {
      --pfe-button--BorderColor--after: #{pfe-var(ui-accent)};
    }

    &:hover,
    &:focus {
      &:after {
        --pfe-button--Border--after: 2px solid;
      }
    }
  }
}

:host([pfe-variant="tertiary"]) {
  button {
    --pfe-button--BackgroundColor: transparent;
    --pfe-button--Color: #{pfe-var(text)};

    &:after {
      --pfe-button--BorderColor--after: #{pfe-var(text)};
    }

    &:hover,
    &:focus {
      &:after {
        --pfe-button--Border--after: 2px solid;
      }
    }
  }
}

:host([pfe-variant="danger"]) {
  button {
    --pfe-button--BackgroundColor: #{$pf-color-red-100}; // feedback--critical?

    &:hover,
    &:focus {
      --pfe-button--BackgroundColor: #{$pf-color-red-200}; // feedback--critical--darkest is too dark
    }
  }
}

:host([pfe-variant="control"]) {
  button {
    --pfe-button--BackgroundColor: transparent;
    --pfe-button--Color: #{pfe-var(text)};
    --pfe-button--BorderRadius: 0;

    &:after {
      --pfe-button--BorderColor--after: #{$pf-color-black-200}; // surface--border--lightest?
      border-bottom-color: #{$pf-color-black-500}; // surface--border--darker?
    }

    &:hover,
    &:focus {
      &:after {
        border-bottom-width: 2px;
        border-bottom-color: #{pfe-var(ui-accent)};
      }
    }
  }
}

:host([pfe-variant="control"][disabled]) {
  button {
    --pfe-button--BackgroundColor: #{pfe-var(surface--lighter)};
  }
}

:host([disabled]) {
  button {
    --pfe-button--BackgroundColor: #{pfe-var(ui-disabled)}; // #{$pf-color-black-300};
    --pfe-button--Color: #{pfe-var(ui-disabled--text)};
    pointer-events: none;

    &:hover,
    &:focus {
      --pfe-button--BackgroundColor--hover: #{pfe-var(ui-disabled)}; // #{$pf-color-black-300};

      &:after {
        --pfe-button--Border--after: 0;
      }
    }

    &:after {
      --pfe-button--Border--after: 0;
    }
  }
}
