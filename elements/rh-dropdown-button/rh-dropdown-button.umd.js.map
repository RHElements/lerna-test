{"version":3,"file":"rh-dropdown-button.umd.js","sources":["rh-dropdown-button.umd.js"],"sourcesContent":["/*\n * Copyright 2018 Red Hat, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport RHElement from \"../rhelement/rhelement.umd.js\";\n\nclass RhDropdownButton extends RHElement {\n  get html() {\n    return `\n<style>\n:host *, :host *::before, :host *::after {\n  box-sizing: border-box; }\n\n:host button {\n  padding: 0.5rem 1rem;\n  border: 1px solid #ccc;\n  background: transparent;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #333;\n  cursor: pointer; }\n  :host button::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.5rem;\n    border-top: 5px solid #333;\n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n    vertical-align: middle; }\n  :host button:hover, :host button:focus {\n    background: #e7e7e7; }\n  :host button[aria-expanded=\"true\"] {\n    color: #fff;\n    background: #004080;\n    border-color: #004080; }\n    :host button[aria-expanded=\"true\"]::after {\n      border-bottom: 5px solid #fff;\n      border-top: 0; }\n</style>\n<button></button>`;\n  }\n\n  static get tag() {\n    return \"rh-dropdown-button\";\n  }\n\n  get styleUrl() {\n    return \"rh-dropdown-button.scss\";\n  }\n\n  get templateUrl() {\n    return \"rh-dropdown-button.html\";\n  }\n\n  static get observedAttributes() {\n    return [\"no-aria-haspopup\"];\n  }\n\n  constructor() {\n    super(RhDropdownButton.tag);\n    this.button = this.shadowRoot.querySelector(\"button\");\n    this._clickHandler = this._clickHandler.bind(this);\n  }\n\n  connectedCallback() {\n    const child = this.children[0];\n    let isHeadingTag = false;\n\n    if (child) {\n      switch (child.tagName) {\n        case \"H1\":\n        case \"H2\":\n        case \"H3\":\n        case \"H4\":\n        case \"H5\":\n        case \"H6\":\n          isHeadingTag = true;\n          break;\n      }\n      this.button.innerHTML = child.innerHTML;\n    } else {\n      this.button.innerHTML = this.textContent.trim();\n    }\n\n    if (!isHeadingTag) {\n      console.warn(\n        \"The first child in the light DOM must be a heading level tag (h1, h2, h3, h4, h5, or h6)\"\n      );\n    }\n\n    if (!this.getAttribute(\"no-aria-haspopup\")) {\n      this.button.setAttribute(\"aria-haspopup\", \"true\");\n    }\n\n    this.button.setAttribute(\"aria-expanded\", \"false\");\n\n    this.button.addEventListener(\"click\", this._clickHandler);\n  }\n\n  disconnectedCallback() {\n    this.button.removeEventListener(\"click\", this._clickHandler);\n  }\n\n  attributeChangedCallback(attr, oldVal, newVal) {\n    if (attr === \"no-aria-haspopup\" && newVal === \"true\") {\n      this.button.removeAttribute(\"aria-haspopup\");\n    } else {\n      this.button.setAttribute(\"aria-haspopup\", \"true\");\n    }\n  }\n\n  get expanded() {\n    return this.hasAttribute(\"data-expanded\");\n  }\n\n  set expanded(val) {\n    val = Boolean(val);\n\n    if (val) {\n      this.setAttribute(\"data-expanded\", true);\n      this.button.setAttribute(\"aria-expanded\", true);\n    } else {\n      this.removeAttribute(\"data-expanded\");\n      this.button.setAttribute(\"aria-expanded\", false);\n    }\n  }\n\n  _clickHandler(event) {\n    this.dispatchEvent(\n      new CustomEvent(\"rh-dropdown-change\", {\n        detail: { expanded: !this.expanded },\n        bubbles: true\n      })\n    );\n  }\n}\n\nRHElement.create(RhDropdownButton);\n"],"names":["RhDropdownButton","tag","button","_this","shadowRoot","querySelector","_clickHandler","bind","RHElement","child","this","children","isHeadingTag","tagName","innerHTML","textContent","trim","warn","getAttribute","setAttribute","addEventListener","removeEventListener","attr","oldVal","newVal","removeAttribute","event","dispatchEvent","CustomEvent","expanded","hasAttribute","val","Boolean","create"],"mappings":"shBAwBMA,gWAqDIA,EAAiBC,eAClBC,OAASC,EAAKC,WAAWC,cAAc,YACvCC,cAAgBH,EAAKG,cAAcC,6UAvDbC,k5BAyCpB,oEAIA,8DARA,sEAYA,CAAC,2EAUFC,EAAQC,KAAKC,SAAS,GACxBC,GAAe,KAEfH,EAAO,QACDA,EAAMI,aACP,SACA,SACA,SACA,SACA,SACA,QACY,OAGdX,OAAOY,UAAYL,EAAMK,oBAEzBZ,OAAOY,UAAYJ,KAAKK,YAAYC,OAGtCJ,WACKK,KACN,4FAICP,KAAKQ,aAAa,0BAChBhB,OAAOiB,aAAa,gBAAiB,aAGvCjB,OAAOiB,aAAa,gBAAiB,cAErCjB,OAAOkB,iBAAiB,QAASV,KAAKJ,mEAItCJ,OAAOmB,oBAAoB,QAASX,KAAKJ,gEAGvBgB,EAAMC,EAAQC,GACxB,qBAATF,GAA0C,SAAXE,OAC5BtB,OAAOuB,gBAAgB,sBAEvBvB,OAAOiB,aAAa,gBAAiB,8CAoBhCO,QACPC,cACH,IAAIC,YAAY,qBAAsB,QAC5B,CAAEC,UAAWnB,KAAKmB,mBACjB,6CAnBNnB,KAAKoB,aAAa,+BAGdC,MACLC,QAAQD,UAGPZ,aAAa,iBAAiB,QAC9BjB,OAAOiB,aAAa,iBAAiB,UAErCM,gBAAgB,sBAChBvB,OAAOiB,aAAa,iBAAiB,aAchDX,EAAUyB,OAAOjC"}