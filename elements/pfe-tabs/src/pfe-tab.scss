@import "../../pfe-sass/pfe-sass";

$LOCAL: tabs;

/// ===========================================================================
/// HORIZONTAL TAB ORIENTATION
/// ===========================================================================

:host {
  --pfe-tabs--main:         transparent;
  --pfe-tabs--aux:          #{pfe-color(ui-disabled--text)}; 

  --pfe-tabs--link:         #{pfe-apply-broadcast(ui-link)};
  --pfe-tabs--focus:        #{pfe-apply-broadcast(ui-link--focus)};
  --pfe-tabs--highlight:    #{pfe-color(ui-accent)};

  --pfe-tabs--BorderTop: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} transparent;
  --pfe-tabs--BorderRight: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} transparent;
  --pfe-tabs--BorderBottom: 0;
  --pfe-tabs--BorderLeft: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} transparent;

  position: relative;
  display: block;

  transition: background-color .3s ease;

  // Padding
  padding: calc(#{pfe-var(container-padding)} * .666) calc(#{pfe-var(container-padding)} * 1.5);

  // Border
  border-top: #{pfe-local(BorderTop)};
  border-right: #{pfe-local(BorderRight)};
  border-bottom: #{pfe-local(BorderBottom)};
  border-left: #{pfe-local(BorderLeft)};

  // Inner style
  background-color: var(--pfe-tabs--main);
  color: var(--pfe-tabs--aux);

  text-transform: var(--pfe-tabs__tab--TextTransform, none); // exposing this for RH
  font-weight: #{pfe-var(font-weight--normal)};

  cursor: pointer;
  text-align: center;

  margin-bottom: calc(-1 * #{pfe-var(ui--border-width)});
}

// Active tab styles

:host(:focus),
:host(:focus-visible) {
  outline: 1px solid #{pfe-var(ui-link--focus)};
  outline: #{pfe-var(ui--focus-outline-width)} #{pfe-var(ui--focus-outline-style)} #{pfe-local(focus)};
  z-index: 2;
}

:host(:hover) {
  --pfe-tabs--aux: #{pfe-apply-broadcast(text)};
}

:host([aria-selected="true"]) {
  --pfe-tabs--aux:  #{pfe-apply-broadcast(text)};
  --pfe-tabs--BorderBottom: #{pfe-var(surface--border-width--heavy)} #{pfe-var(surface--border-style)} #{pfe-local(highlight)};
}

/// ===========================================================================
/// VERTICAL TAB ORIENTATION
/// ===========================================================================

@media screen and (min-width: #{pfe-breakpoint(md)}) {
  :host([vertical]) {
    --pfe-tabs--BorderRight: 0;
    --pfe-tabs--BorderBottom: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} transparent;

    text-align: left;
    padding-left: calc(#{pfe-var(container-padding)} * .75);
    position: relative;

    margin-bottom: 0;
    margin-right: calc(-1 * #{pfe-var(ui--border-width)});
  }

  :host([vertical][aria-selected="true"]) {
    --pfe-tabs--BorderTop: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} transparent;
    --pfe-tabs--BorderRight: #{pfe-var(surface--border-width--heavy)} #{pfe-var(surface--border-style)} #{pfe-local(highlight)};
  }
}

/// ===========================================================================
/// EARTH TAB VARIANTS
/// ===========================================================================

:host([pfe-variant="earth"][aria-selected="false"]) {
  --pfe-tabs--main: #{pfe-color(surface--lighter)};
  
  --pfe-tabs--BorderTop: #{pfe-var(surface--border-width--heavy)} #{pfe-var(ui--border-style)} #{pfe-color(surface--lighter)};
  --pfe-tabs--BorderBottom: 0;
  --pfe-tabs--BorderLeft: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} #{pfe-color(surface--border)};
}

:host([pfe-variant="earth"][aria-selected="true"]) {
  --pfe-tabs--main: #{pfe-color(surface--lightest)};
  --pfe-tabs--aux:  #{pfe-color(surface--lightest--text)};

  --pfe-tabs--BorderTop: #{pfe-var(surface--border-width--heavy)} #{pfe-var(surface--border-style)} #{pfe-local(highlight)};
  --pfe-tabs--BorderBottom: 0;
  --pfe-tabs--BorderLeft: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} #{pfe-color(surface--border)};
}

:host([pfe-variant="earth"][aria-selected="true"]:last-of-type) {
  --pfe-tabs--BorderRight: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} #{pfe-color(surface--border)};
}

:host([pfe-variant="earth"]:hover) {
  --pfe-tabs--main: #{pfe-color(surface--lightest)};
  --pfe-tabs--aux:  #{pfe-color(surface--lightest--text)}; 
}

:host([pfe-variant="earth"]:last-of-type:hover) {
  --pfe-tabs--BorderRight: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} #{pfe-color(surface--border)};
}

/// ===========================================================================
/// EARTH TAB VERTICAL ORIENTATION
/// ===========================================================================

@media screen and (min-width: #{pfe-breakpoint(md)}) {
  :host([vertical][pfe-variant="earth"]) {
    --pfe-tabs--BorderTop: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} #{pfe-color(surface--border)};
  }

  :host([vertical][pfe-variant="earth"]:first-of-type) {
    --pfe-tabs--BorderTop: 0;
  }

  :host([vertical][pfe-variant="earth"][aria-selected="true"]) {
    --pfe-tabs--BorderTop: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} #{pfe-color(surface--border)};
    --pfe-tabs--BorderRight: 0;
    --pfe-tabs--BorderLeft: #{pfe-var(surface--border-width--heavy)} #{pfe-var(surface--border-style)} #{pfe-local(highlight)};
  }

  :host([vertical][pfe-variant="earth"][aria-selected="false"]) {
    --pfe-tabs--BorderRight: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} #{pfe-color(surface--border)};
    --pfe-tabs--BorderBottom: 0;
    --pfe-tabs--BorderLeft: #{pfe-var(surface--border-width--heavy)} #{pfe-var(ui--border-style)} #{pfe-color(surface--lighter)};
  }

  :host([vertical][pfe-variant="earth"][aria-selected="true"]:last-of-type) {
    --pfe-tabs--BorderBottom: #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} #{pfe-color(surface--border)};
  }
}