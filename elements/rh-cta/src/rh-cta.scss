$component: "cta";
@import "../../rh-sass/rh-sass";

/// ===========================================================================
/// Component Specific SASS Vars
/// ===========================================================================

$rh-cta--arrow-size:                        0.313em; // Was ~5px at 16px
$rh-cta--arrow--spacer:                     $rh-global--spacer--xxs;
$rh-cta--solid--BorderRadius:               5em !default; //$rh-global--border--BorderRadius !default;
$rh-cta--solid--BorderWidth:                $rh-global--border--BorderWidth;
$rh-cta--solid--padding-y:                  $rh-global--spacer--xs;
$rh-cta--solid--padding-x:                  $rh-global--spacer--lg;
$rh-cta--animation-timing:                  $rh-global--animation-timing;

// Reassigning SASS vars to component specific SASS vars for ease of use below

// Default CTA colors
$rh-cta--color:                     $rh-global--link-color;
$rh-cta--color--hover:              $rh-global--link-color--hover;
$rh-cta--color--focus:              $rh-global--link-color--focus;
$rh-cta--color--visited:            $rh-global--link-color--visited;

// Solid CTA colors
$rh-cta--bg-color--solid:           $rh-global--color--gray-batman;
$rh-cta--text-color--solid:         $rh-global--color--white;
$rh-cta--bg-color--solid--hover:    darken($rh-global--color--gray-batman, 10%);
$rh-cta--text-color--solid--hover:  $rh-global--color--white;

/// ===========================================================================
/// Styles
/// ===========================================================================

// Setup Default CTA
:host {
  display: inline-block;

  // Define CSS Vars
  $cta-defaults-custom: (
    "arrow--spacing": --rh-theme--spacing--xxs $rh-cta--arrow--spacer
  );

  @include rh-define-vars($cta-defaults-custom, $custom-theme: true);

  $cta-defaults: (
    "link-color": $rh-cta--color,
    "link-color--visited": $rh-cta--color--visited,
    "link-color--hover": $rh-cta--color--hover,
    "link-color--focus": $rh-cta--color--focus
  );

  @include rh-define-vars($cta-defaults);

  & ::slotted(a) {
    color: rh-var("link-color");

    &::after {
      margin-left: rh-var("arrow--spacing");
      vertical-align: middle;
      @include rh-arrow($type: right, $color: rh-var("link-color"), $width: $rh-cta--arrow-size, $height: $rh-cta--arrow-size, $pseudo: true);
    }
  }

  // Setup Default CTA Visited
  & ::slotted(a:visited) {
    color: rh-var("link-color--visited");

    &::after {
      @include rh-arrow-color($color: rh-var("link-color--visited"));
    }
  }
  // Setup Default CTA Hover
  & ::slotted(a:hover) {
    color: rh-var("link-color--hover");

    &::after {
      @include rh-arrow-color($color: rh-var("link-color--hover"));
    }
  }
  // Setup Default CTA Focus
  & ::slotted(a:focus) {
    color: rh-var("link-color--focus");

    &::after {
      @include rh-arrow-color($color: rh-var("link-color--focus"));
    }
  }
}

:host(.primary) {
  --rh-cta--color: $rh-global--link-color;
  --rh-cta--color--hover: $rh-global--link-color--hover;
  --rh-cta--color--focus: $rh-global--link-color--focus;
  --rh-cta--color--visited: $rh-global--link-color--visited;
}

:host(.secondary) {
  --rh-cta--color: $rh-global--color--gray-iron;
  --rh-cta--color--hover: darken($rh-global--color--gray-iron, 10%);
  --rh-cta--color--focus: darken($rh-global--color--gray-iron, 10%);
  --rh-cta--color--visited: $rh-global--link-color--visited;
}

:host(.accent) {
  --rh-cta--color: $rh-global--color--red;
  --rh-cta--color--hover: darken($rh-global--color--red, 10%);
  --rh-cta--color--focus: darken($rh-global--color--red, 10%);
  --rh-cta--color--visited: $rh-global--link-color--visited;
}

// Setup Inverted Default CTA
:host([inverted]) {
  --rh-cta--color: $rh-global--link-color--inverted;
  --rh-cta--color--hover: $rh-global--link-color--inverted--hover;
  --rh-cta--color--focus: $rh-global--link-color--inverted--focus;
  --rh-cta--color--visited: $rh-global--link-color--inverted--visited;
}

:host([inverted].primary) {
  --rh-cta--color: $rh-global--link-color--inverted;
  --rh-cta--color--hover: $rh-global--link-color--inverted--hover;
  --rh-cta--color--focus: $rh-global--link-color--inverted--focus;
  --rh-cta--color--visited: $rh-global--link-color--inverted--visited;
}

:host([inverted].secondary) {
  --rh-cta--color: $rh-global--color--white;
  --rh-cta--color--hover: darken($rh-global--color--white, 10%);
  --rh-cta--color--focus: darken($rh-global--color--white, 10%);
  --rh-cta--color--visited: $rh-global--link-color--inverted--visited;
}

:host([inverted].accent) {
  --rh-cta--color: lighten($rh-global--color--red, 10%);
  --rh-cta--color--hover: lighten($rh-global--color--red, 20%);
  --rh-cta--color--focus: lighten($rh-global--color--red, 20%);
  --rh-cta--color--visited: $rh-global--link-color--inverted--visited;
}

// CTA Solid
:host([solid]) {
  $cta-solid: (
    "solid--padding-y": --rh-theme--spacing--xs $rh-cta--solid--padding-y,
    "solid--padding-x": --rh-theme--spacing--lg $rh-cta--solid--padding-x,
    "solid--BorderRadius": --rh-theme--cta--BorderRadius $rh-cta--solid--BorderRadius,
    "solid--BorderWidth": --rh-theme--cta--BorderWidth $rh-cta--solid--BorderWidth,
    "color--solid": --rh-theme--color $rh-cta--bg-color--solid,
    "text-color--solid": --rh-theme--text-color $rh-cta--text-color--solid,
    "color--solid--hover": --rh-theme--color--hover $rh-cta--bg-color--solid--hover,
    "text-color--solid--hover": --rh-theme--text-color--hover $rh-cta--text-color--solid--hover,
  );

  @include rh-define-vars($cta-solid, $custom-theme: true);

  &::slotted(a) {
    display: inline-block;
    padding: rh-var("solid--padding-y") rh-var("solid--padding-x");
    text-decoration: none;
    border: rh-var("solid--BorderWidth") solid transparent;
    border-radius: rh-var("solid--BorderRadius");
    transition: all 250ms $rh-cta--animation-timing;
    background: rh-var("color--solid");
    color: rh-var("text-color--solid");

    &::after {
      display: none;
    }
  }

  & ::slotted(a:hover),
  & ::slotted(a:focus) {
    background: rh-var("color--solid--hover") !important;
    color: rh-var("text-color--solid--hover") !important;
  }
}

:host([solid].primary) {
  --rh-cta--color--solid: $rh-global--color--blue-azure;
  --rh-cta--text-color--solid: $rh-global--color--white;
  --rh-cta--color--solid--hover: darken($rh-global--color--blue-azure, 10%);
  --rh-cta--text-color--solid--hover: $rh-global--color--white;
}

:host([solid].secondary) {
  --rh-cta--color--solid: $rh-global--color--gray-iron;
  --rh-cta--text-color--solid: $rh-global--color--white;
  --rh-cta--color--solid--hover: darken($rh-global--color--gray-iron, 10%);
  --rh-cta--text-color--solid--hover: $rh-global--color--white;
}

:host([solid].accent) {
  --rh-cta--color--solid: $rh-global--color--red;
  --rh-cta--text-color--solid: $rh-global--color--white;
  --rh-cta--color--solid--hover: darken($rh-global--color--red, 10%);
  --rh-cta--text-color--solid--hover: $rh-global--color--white;
}

// CTA Solid
:host([solid][inverted]) {
  --rh-cta--color--solid: $rh-global--color--red;
  --rh-cta--text-color--solid: $rh-global--color--white;
  --rh-cta--color--solid--hover: darken($rh-global--color--red, 10%);
  --rh-cta--text-color--solid--hover: $rh-global--color--white;
}

// CTA Unfilled
:host([unfilled]) {
  &::slotted(a) {
    background: transparent !important;
  }

  // &::slotted(a:hover),
  // &::slotted(a:focus) {
  //   background: transparent !important;
  // }
}
