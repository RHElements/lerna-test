@import "shared-assets";

/// ===========================================================================
/// DEFAULT ACCORDION PANEL
/// ===========================================================================

:host {
   @include pfe-collapsible($state: closed);
   @include pfe-accordion-props;
   @include pfe-box-sizing;
}

:host(.animating) {
  display: block;
  transition: height 0.3s ease-in-out;
}

.container {
  @include pfe-clearfix;
  @include pfe-panel-container;
  @include pfe-print-local((
    panel-container: (
      Padding: 0 calc(#{pfe-local(Padding, $region: base)} * 3) #{pfe-local(Padding, $region: base)} calc(#{pfe-local(Padding, $region: base)} * 1.5)
    )
  ));

  :host([pfe-c-disclosure="true"]) & {
    @include pfe-print-local((
      panel-container: (
        Padding: 0 calc(#{pfe-local(Padding, $region: base)} * 3) pfe-local(Padding, $region: base) calc((#{pfe-local(Padding, $region: base)} * 1.5) - 4px)
      )
    ));
  }
}

:host(:last-of-type[aria-expanded="true"]) {
  margin-bottom: 0;
}

/// ===========================================================================
/// EXPANDED STYLES
/// ===========================================================================

:host([aria-expanded="true"]),
:host(.animating) {
  @include pfe-print-local(pfe-accordion-variables($state: expanded));
  @include pfe-panel-variables;
  @include pfe-collapsible($state: open);
  @include browser-query(ie11) {
    border-top-width: 0;
    border-left-color: pfe-var(ui-accent);
    border-right-color: pfe-var(surface--border);
  }
}

:host([on="dark"][aria-expanded="true"]),
:host([on="dark"].animating){
  @include pfe-print-local(pfe-accordion-variables($state: expanded, $context: dark));
  @include pfe-panel-variables($context: dark);
}

:host([on="saturated"][aria-expanded="true"]),
:host([on="saturated"].animating){
  @include pfe-print-local(pfe-accordion-variables($state: expanded, $context: saturated));
  @include pfe-panel-variables($context: saturated);
}
