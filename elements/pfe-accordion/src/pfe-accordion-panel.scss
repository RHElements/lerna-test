@import "../../pfe-sass/pfe-sass";

$LOCAL: accordion;

/// ===========================================================================
/// DEFAULT ACCORDION PANEL
/// ===========================================================================

:host {
  --pfe-accordion--BorderTopColor:     transparent;
  --pfe-accordion--BorderRightColor:   transparent;
  --pfe-accordion--BorderBottomColor:  #{pfe-color(surface--border)};
  --pfe-accordion--BorderLeftColor:    #{pfe-local(accent)};

  --pfe-accordion--BorderLeft:    #{pfe-var(surface--border-width--heavy)} #{pfe-var(surface--border-style)} #{pfe-local(BorderLeftColor)};
  --pfe-accordion--BorderRight:   #{pfe-var(surface--border-width)} #{pfe-var(surface--border-style)} #{pfe-local(BorderRightColor)};
  --pfe-accordion--BorderTop:     #{pfe-var(surface--border-width)} #{pfe-var(surface--border-style)} #{pfe-local(BorderTopColor)};
  --pfe-accordion--BorderBottom:  #{pfe-var(surface--border-width)} #{pfe-var(surface--border-style)} #{pfe-local(BorderBottomColor)};

  --pfe-accordion--main: #{pfe-color(surface--lightest)};
  --pfe-accordion--aux: #{pfe-color(surface--lightest--text)};

  --pfe-accordion--BoxShadow: 0 5px #{pfe-var(surface--border-width--heavy)} rgba(140, 140, 140, 0.35);

  display: none;
  overflow: hidden;

  margin-top: calc(-1 * #{pfe-var(surface--border-width)});

  will-change: height;
  transition: height 0.3s #{pfe-var(animation-timing)};

  border-top:       #{pfe-local(BorderTop)};
  border-left:      #{pfe-local(BorderLeft)};
  border-bottom:    #{pfe-local(BorderBottom)};
  border-right:     #{pfe-local(BorderRight)};

  box-shadow: #{pfe-local(BoxShadow)};
  background-color: #{pfe-local(main)};
  color: #{pfe-local(aux)};

  box-sizing: border-box;
  width: 100%;
  padding: 0 #{$pfe-expand_chevron--padding} #{$pfe-expand_button--padding} #{$pfe-expand_button--padding--wide};
}

:host([expanded]) {
  --pfe-accordion--BorderRightColor: #{pfe-color(surface--border)};
  --pfe-accordion--accent: #{pfe-color(surface--lightest--ui-link)};

  display: block;
  position: relative;
}
 
:host([on="dark"]) {
  --pfe-accordion--BoxShadow: none;
  --pfe-accordion--main: transparent;
  --pfe-accordion--aux: #{pfe-apply-broadcast(text)};
  --pfe-accordion--accent: #{pfe-color(surface--darkest--text)};
}
 
:host([on="dark"][expanded]) {
  @include pfe-set-broadcast(darker);

  --pfe-accordion--main: #{pfe-color(surface--darker)};
  --pfe-accordion--aux: #{pfe-color(surface--darker--text)};
  --pfe-accordion--accent: #{pfe-color(surface--darkest--text)};
}

:host(:last-of-type[expanded]) {
  margin-bottom: 0;
}

