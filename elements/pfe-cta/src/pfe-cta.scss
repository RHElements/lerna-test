@import "../../pfe-sass/pfe-sass";

$LOCAL: cta;

/// ===========================================================================
/// Component Specific SASS Vars
/// ===========================================================================

$pfe-cta__arrow-size:                        0.313em;

/// ===========================================================================
/// DEFUALT CTA
/// ===========================================================================
:host {
  --pfe-cta--main:                     #{pfe-color(ui-link)};
  --pfe-cta--main--hover:              #{pfe-color(ui-link--hover)};
  --pfe-cta--main--focus:              #{pfe-color(ui-link--focus)};
  --pfe-cta--main--visited:            #{pfe-color(ui-link--visited)};
  --pfe-cta--aux:                      transparent;
  --pfe-cta--aux--hover:               transparent;

  --pfe-cta--link--Color:           #{pfe-local(main)};
  --pfe-cta--link--BackgroundColor: transparent;
  --pfe-cta--link__after--Color:    #{pfe-local(main)};
  --pfe-cta--link--Padding:         0;
  --pfe-cta--link--BorderColor:     transparent;
  --pfe-cta--link--Border:          #{pfe-var(ui--border-width)} #{pfe-var(ui--border-style)} #{pfe-local(link--BorderColor)};
  --pfe-cta--link--BorderRadius:    none;
  --pfe-cta--link--LineHeight:      inherit;
  --pfe-cta--link--BorderRadius:    none;
  --pfe-cta--link--TextDecoration:  none;

  display: inline-block;
  font-weight: bold;

  ::slotted(a) {
    transition:       all #{pfe-var(animation-timing)};
    line-height:      #{pfe-local(link--LineHeight)};
    color:            #{pfe-local(link--Color)};
    background-color: #{pfe-local(link--BackgroundColor)};
    padding:          #{pfe-local(link--Padding)};
    border:           #{pfe-local(link--Border)};
    border-radius:    #{pfe-local(link--BorderRadius)};
    text-decoration:  #{pfe-local(link--TextDecoration)};
  }

  ::slotted(a)::after {
    display: inline-block;
    margin-left: calc(#{pfe-var(content-spacer)} * 0.25); // 1/4 of the base `content-spacer`
    vertical-align: calc(.5em - #{$pfe-cta__arrow-size});
    @include pfe-arrow(
      right,
      #{pfe-local(link__after--Color)},
      $pfe-cta__arrow-size,
      $pfe-cta__arrow-size,
      true
    );
  }

  @each $state in (hover, focus) {
    ::slotted(a:#{$state}) {
      --pfe-cta--link--Color: #{pfe-local(main--#{$state})};
    }

    ::slotted(a:#{$state})::after {
      --pfe-cta--link__after--Color: #{pfe-local(main--#{$state})};
    }
  }
}


/// ===========================================================================
/// Styles for "Button" CTAs
/// ===========================================================================
:host([priority="primary"]),
:host([priority="secondary"]) {
  --pfe-cta--link--Padding:         calc(#{pfe-var(container-padding)} * 0.5) calc(#{pfe-var(container-padding)} * 2);
  --pfe-cta--link--BorderRadius:    calc(#{pfe-var(ui--border-radius)} * 20);
  --pfe-cta--link--LineHeight:      1.2;

  ::slotted(a) {
    display: inline-block;
  }

  ::slotted(a)::after {
    display: none;
  }

  %states {
    --pfe-cta--link--Color:           #{pfe-local(aux--hover)};
    --pfe-cta--link--BorderColor:     #{pfe-local(main--hover)};
    --pfe-cta--link--BackgroundColor: #{pfe-local(main--hover)};
  }

  ::slotted(a:hover) {
    @extend %states;
  }
  
  ::slotted(a:focus) {
    @extend %states;
  }

  // @TODO Visited state
}

:host([priority="primary"]) {
  --pfe-cta--main:          #{pfe-color(ui-accent)};
  --pfe-cta--main--hover:   #{pfe-color(ui-accent--hover)};
  --pfe-cta--aux:           #{pfe-color(ui-accent--text)};
  --pfe-cta--aux--hover:    #{pfe-color(ui-accent--text--hover)};

  --pfe-cta--link--Color:             #{pfe-local(aux)};
  --pfe-cta--link--BackgroundColor:   #{pfe-local(main)};
  --pfe-cta--link--BorderColor:       #{pfe-local(main)};
}

:host([priority="secondary"]) {
  --pfe-cta--main:          #{pfe-color(ui-base)};
  --pfe-cta--main--hover:   #{pfe-color(ui-base--hover)};
  --pfe-cta--aux:           #{pfe-color(ui-base--text)};
  --pfe-cta--aux--hover:    #{pfe-color(ui-base--text--hover)};

  --pfe-cta--link--Color:           #{pfe-local(main)};
  --pfe-cta--link--BackgroundColor: #{pfe-local(aux)};
  --pfe-cta--link--BorderColor:     #{pfe-local(main)};
}


/// ===========================================================================
/// ON DARK
/// ===========================================================================
:host([on="dark"]) {
  --pfe-cta--main:        #{pfe-color(text--on-dark)};
  --pfe-cta--main--hover: #{pfe-color(ui-link--on-dark--hover)};
  --pfe-cta--aux:         transparent;
  --pfe-cta--aux--hover:  transparent;
}

:host([on="dark"][priority="primary"]) {
  --pfe-cta--main:        #{pfe-color(ui-accent--text)};
  --pfe-cta--main--hover: #{pfe-color(ui-accent--text--hover)};
  --pfe-cta--aux:         #{pfe-color(ui-accent)};
  --pfe-cta--aux--hover:  #{pfe-color(ui-accent--hover)};
}

:host([on="dark"][priority="secondary"]) {
  --pfe-cta--main:        #{pfe-color(ui-base--text)};
  --pfe-cta--main--hover: #{pfe-color(ui-base--text--hover)};
  --pfe-cta--aux:         transparent;
  --pfe-cta--aux--hover:  #{pfe-color(ui-base--hover)};
}


/// ===========================================================================
/// COLOR OVERRIDE: BASE
/// ===========================================================================

:host([color="base"]) {
  --pfe-cta--main:        #{pfe-color(ui-base)} !important;
  --pfe-cta--main--hover: #{pfe-color(ui-base--hover)} !important;
  --pfe-cta--aux:         #{pfe-color(ui-base--text)} !important;
  --pfe-cta--aux--hover:  #{pfe-color(ui-base--text--hover)} !important;
}


/// ===========================================================================
/// COLOR OVERRIDE: COMPLEMENT
/// ===========================================================================

:host([color="complement"]) {
  --pfe-cta--main:        #{pfe-color(ui-complement)} !important;
  --pfe-cta--main--hover: #{pfe-color(ui-complement--hover)} !important;
  --pfe-cta--aux:         #{pfe-color(ui-complement--text)} !important;
  --pfe-cta--aux--hover:  #{pfe-color(ui-complement--text--hover)} !important;
}


/// ===========================================================================
/// COLOR OVERRIDE: ACCENT
/// ===========================================================================
:host([color="accent"]) {
  --pfe-cta--main:        #{pfe-color(ui-accent)} !important;
  --pfe-cta--main--hover: #{pfe-color(ui-accent--hover)} !important;
  --pfe-cta--aux:         #{pfe-color(ui-accent--text)} !important;
  --pfe-cta--aux--hover:  #{pfe-color(ui-accent--text--hover)} !important;
}
