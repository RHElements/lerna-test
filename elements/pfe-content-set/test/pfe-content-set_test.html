<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <script src="/components/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
  <script src="/components/web-component-tester/browser.js"></script>
  <script type="module" src="../../pfe-band/dist/pfe-band.js"></script>
  <script type="module" src="../dist/pfe-content-set.js"></script>
</head>

<body>
  <div style="width: 1024px;">
    <pfe-content-set id="default">
      <h2 pfe-content-set--header>heading 1</h2>
      <p pfe-content-set--panel>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor
        invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
        et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum
        dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna
        aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
        voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
        sanctus est Lorem ipsum dolor sit amet.</p>
      <h2 pfe-content-set--header>heading 2</h2>
      <p pfe-content-set--panel>Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore
        magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
        voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
        sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
        eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et
        justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus.</p>
      <h2 pfe-content-set--header>heading 3</h2>
      <p pfe-content-set--panel>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no
        sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
        sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
        et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum
        dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore
        dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd
        magna no rebum. sanctus sea sed takimata ut vero voluptua. est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit
        amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam
        erat.</p>
    </pfe-content-set>
  </div>

  <div style="width: 600px;">
    <pfe-content-set pfe-variant="wind" id="wind">
      <h2 pfe-content-set--header>heading 1</h2>
      <p pfe-content-set--panel>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor
        invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
        et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum
        dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna
        aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
        voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
        sanctus est Lorem ipsum dolor sit amet.</p>
      <h2 pfe-content-set--header>heading 2</h2>
      <p pfe-content-set--panel>Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore
        magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
        voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
        sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
        eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et
        justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus.</p>
      <h2 pfe-content-set--header>heading 3</h2>
      <p pfe-content-set--panel>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no
        sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
        sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
        et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum
        dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore
        dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd
        magna no rebum. sanctus sea sed takimata ut vero voluptua. est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit
        amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam
        erat.</p>
    </pfe-content-set>
  </div>

  <div style="width: 1024px;">
    <pfe-content-set pfe-variant="earth" id="earth">
      <h2 pfe-content-set--header>heading 1</h2>
      <p pfe-content-set--panel>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor
        invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
        et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum
        dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna
        aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
        voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
        sanctus est Lorem ipsum dolor sit amet.</p>
      <h2 pfe-content-set--header>heading 2</h2>
      <p pfe-content-set--panel>Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore
        magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
        voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
        sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
        eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et
        justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus.</p>
      <h2 pfe-content-set--header>heading 3</h2>
      <p pfe-content-set--panel>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no
        sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
        sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
        et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum
        dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore
        dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd
        magna no rebum. sanctus sea sed takimata ut vero voluptua. est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit
        amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam
        erat.</p>
      <h2 pfe-content-set--header>heading 4</h2>
      <p pfe-content-set--panel>Nullam id dolor id nibh ultricies vehicula ut id elit. Lorem ipsum dolor sit amet,
        consectetur adipiscing elit. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
      <h2 pfe-content-set--header>heading 5</h2>
      <p pfe-content-set--panel>Aenean lacinia bibendum nulla sed consectetur. Nullam id dolor id nibh ultricies
        vehicula ut id elit. Vestibulum id ligula porta felis euismod semper. Sed posuere consectetur est at lobortis.
        Donec ullamcorper nulla non metus auctor fringilla.</p>
    </pfe-content-set>
  </div>

  <div style="width: 1024px;">
    <pfe-content-set vertical pfe-variant="earth" id="earth-vertical">
      <h2 pfe-content-set--header>heading 1</h2>
      <p pfe-content-set--panel>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor
        invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
        et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum
        dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna
        aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
        voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
        sanctus est Lorem ipsum dolor sit amet.</p>
      <h2 pfe-content-set--header>heading 2</h2>
      <p pfe-content-set--panel>Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore
        magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
        voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
        sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
        eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et
        justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus.</p>
      <h2 pfe-content-set--header>heading 3</h2>
      <p pfe-content-set--panel>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no
        sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
        sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
        et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum
        dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore
        dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd
        magna no rebum. sanctus sea sed takimata ut vero voluptua. est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit
        amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam
        erat.</p>
    </pfe-content-set>
  </div>

  <div style="width: 1024px;">
    <pfe-content-set id="dynamicTabs">
      <h2 pfe-content-set--header>Heading 1</h2>
      <p pfe-content-set--panel>Panel 1</p>
    </pfe-content-set>
  </div>

  <div style="width: 600px">
    <pfe-content-set id="dynamicAccordion">
      <h2 pfe-content-set--header>Heading 1</h2>
      <p pfe-content-set--panel>Panel 1</p>
    </pfe-content-set>
  </div>

  <pfe-content-set id="align" pfe-align="center">
    <h2 pfe-content-set--header>Heading 1</h2>
    <p pfe-content-set--panel>Panel 1</p>
  </pfe-content-set>


  <div style="width: 500px">
    <pfe-content-set id="accordionBreakpoint" pfe-breakpoint="550">
      <h2 pfe-content-set--header>Heading 1</h2>
      <p pfe-content-set--panel>Panel 1</p>
    </pfe-content-set>
  </div>


  <div style="width: 600px">
    <pfe-content-set id="tabsBreakpoint" pfe-breakpoint="550">
      <h2 pfe-content-set--header>Heading 1</h2>
      <p pfe-content-set--panel>Panel 1</p>
    </pfe-content-set>
  </div>

  <pfe-band id="band" pfe-color="darkest">
    <pfe-content-set>
      <h2 pfe-content-set--header>Heading 1</h2>
      <p pfe-content-set--panel>Panel 1</p>
    </pfe-content-set>
  </pfe-band>

  <pfe-band id="accordionBand" pfe-color="darkest" style="width: 600px;">
    <pfe-content-set>
      <h2 pfe-content-set--header>Heading 1</h2>
      <p pfe-content-set--panel>Panel 1</p>
    </pfe-content-set>
  </pfe-band>

  <pfe-content-set id="my-content-set">
    <h2 pfe-content-set--header id="my-content-set-header">Heading 1</h2>
    <p pfe-content-set--panel id="my-content-set-panel">Panel 1</p>
  </pfe-content-set>

  <pfe-content-set id="my-content-set-history" pfe-tab-history>
    <h2 pfe-content-set--header id="my-content-set-header">Heading 1</h2>
    <p pfe-content-set--panel id="my-content-set-panel">Panel 1</p>
    <h2 pfe-content-set--header id="historyTab2">Heading 2</h2>
    <p pfe-content-set--panel>Panel 2</p>
  </pfe-content-set>

  <pfe-content-set id="nested-accordion">
    <h4 pfe-content-set--header>Nested accordion, assigned to panel</h4>
    <pfe-accordion pfe-content-set--panel>
      <pfe-accordion-header>
        <h3>Heading 1</h3>
      </pfe-accordion-header>
      <pfe-accordion-panel>
        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
          et dolore magna aliquyam erat, sed diam voluptua.</p>
        <pfe-cta><a href="#">Foo</a></pfe-cta>
      </pfe-accordion-panel>
      <pfe-accordion-header>
        <h3>Heading 2</h3>
      </pfe-accordion-header>
      <pfe-accordion-panel>
        <p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus
          est Lorem ipsum dolor sit amet.</p>
      </pfe-accordion-panel>
      <pfe-accordion-header>
        <h3>Heading 3</h3>
      </pfe-accordion-header>
      <pfe-accordion-panel>
        <p> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
          et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.
        </p>
      </pfe-accordion-panel>
    </pfe-accordion>
    <h4 pfe-content-set--header>Nested accordion, inside a div</h4>
    <div pfe-content-set--panel>
      <pfe-accordion>
        <pfe-accordion-header>
          <h3>Heading 1</h3>
        </pfe-accordion-header>
        <pfe-accordion-panel>
          <p>Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
        </pfe-accordion-panel>
        <pfe-accordion-header>
          <h3>Heading 2</h3>
        </pfe-accordion-header>
        <pfe-accordion-panel>
          <p> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
            labore et dolore magna aliquyam erat, sed diam voluptua.</p>
        </pfe-accordion-panel>
        <pfe-accordion-header>
          <h3>Heading 3</h3>
        </pfe-accordion-header>
        <pfe-accordion-panel>
          <p> At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
            sanctus est Lorem ipsum dolor sit amet.</p>
        </pfe-accordion-panel>
      </pfe-accordion>
    </div>
  </pfe-content-set>

  <pfe-content-set id="nested-tabs">
    <h4 pfe-content-set--header>Nested tabs</h4>
    <pfe-tabs pfe-content-set--panel>
      <pfe-tab role="heading" slot="tab" id="tab1">
        <h2>Tab 1</h2>
      </pfe-tab>
      <pfe-tab-panel role="region" slot="panel">
        <h2>Content 1</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
          ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
          nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
          anim id est laborum.</p>
      </pfe-tab-panel>
      <pfe-tab role="heading" slot="tab" id="tab2">
        <h3>Tab</h3>
        <h4>2</h4>
      </pfe-tab>
      <pfe-tab-panel role="region" slot="panel">
        <h2>Content 2</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
          ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
          nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
          anim id est laborum.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
          ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
          nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
          anim id est laborum.</p>
      </pfe-tab-panel>
    </pfe-tabs>
  </pfe-content-set>

  <script>
    suite('<pfe-content-set>', () => {
      test('it should have the proper attributes for tabs', () => {
        const pfeContentSet = document.querySelector("#default");
        const pfeTabs = pfeContentSet.querySelector("pfe-tabs");
        const firstHeader = pfeTabs.querySelector("pfe-tab:nth-child(1)");
        const thirdHeader = pfeTabs.querySelector("pfe-tab:nth-child(5)");
        const panel = pfeTabs.querySelector("pfe-tab-panel");

        assert.isTrue(panel.hasAttribute("aria-labelledby"));
        assert.isTrue(firstHeader.hasAttribute("aria-controls"));
        assert.isTrue(firstHeader.hasAttribute('aria-controls'));
        assert.equal(firstHeader.getAttribute('tabindex'), '0');
        assert.equal(firstHeader.getAttribute('aria-selected'), 'true');
        assert.isTrue(thirdHeader.hasAttribute('aria-controls'));
        assert.equal(thirdHeader.getAttribute('tabindex'), '-1');
        assert.equal(thirdHeader.getAttribute('aria-selected'), 'false');
      });

      test('it should be a light accordion', () => {
        const pfeAccordion = document.querySelector('#wind').querySelector("pfe-accordion");
        const firstHeader = pfeAccordion.querySelector('pfe-accordion-header:nth-child(1)');
        const thirdHeader = pfeAccordion.querySelector('pfe-accordion-header:nth-child(5)');
        const firstPanel = document.querySelector('#wind').querySelector("pfe-accordion-panel:nth-child(2)");
        const secondPanel = pfeAccordion.querySelector('pfe-accordion-panel:nth-child(4)');

        assert.isTrue(firstHeader.hasAttribute('aria-controls'));
        assert.isTrue(thirdHeader.hasAttribute('aria-controls'));
        assert.isTrue(firstPanel.hasAttribute('aria-labelledby'));
        assert.isTrue(secondPanel.hasAttribute('aria-labelledby'));
      });

      test('it should have dark tabs', () => {
        const pfeTabs = document.querySelector('#earth').querySelector("pfe-tabs");
        const firstHeader = pfeTabs.querySelector('pfe-tab:nth-child(1)');
        const secondHeader = pfeTabs.querySelector('pfe-tab:nth-child(3)');
        const fifthHeader = pfeTabs.querySelector('pfe-tab:nth-child(9)');

        assert.equal(pfeTabs.getAttribute('pfe-variant'), 'earth');
        assert.equal(firstHeader.getAttribute('tabindex'), '0');
        assert.equal(firstHeader.getAttribute('aria-selected'), 'true');
        assert.equal(secondHeader.getAttribute('aria-selected'), 'false');
        assert.isTrue(fifthHeader.hasAttribute('aria-controls'));
        assert.equal(fifthHeader.getAttribute('tabindex'), '-1');
      });

      test('it should have vertical tabs', () => {
        const pfeTabs = document.querySelector('#earth-vertical').querySelector("pfe-tabs");
        const firstHeader = pfeTabs.querySelector('pfe-tab:nth-child(1)');
        const secondHeader = pfeTabs.querySelector('pfe-tab:nth-child(3)');
        assert.isTrue(pfeTabs.hasAttribute('vertical'));
        assert.equal(pfeTabs.getAttribute('pfe-variant'), 'earth');
        assert.equal(firstHeader.getAttribute('tabindex'), '0');
        assert.equal(firstHeader.getAttribute('aria-selected'), 'true');
        assert.equal(secondHeader.getAttribute('aria-selected'), 'false');
      });

      test("it should properly initialize any dynamically added headers and panels", done => {
        const pfeContentSetTabs = document.querySelector("#dynamicTabs");
        const pfeContentSetAccordion = document.querySelector("#dynamicAccordion");
        const documentFragment = document.createDocumentFragment();

        var newHeader = document.createElement("h2");
        newHeader.setAttribute("pfe-content-set--header", true);
        newHeader.setAttribute("pfe-id", "newHeader");
        newHeader.textContent = "New Heading";

        var newPanel = document.createElement("div");
        newPanel.setAttribute("pfe-content-set--panel", true);
        newPanel.setAttribute("pfe-id", "newPanel");
        newPanel.textContent = "New Panel";

        documentFragment.appendChild(newHeader);
        documentFragment.appendChild(newPanel);

        const tabsDocumentFragment = documentFragment.cloneNode(true);
        const accordionDocumentFragment = documentFragment.cloneNode(true);

        pfeContentSetTabs.appendChild(tabsDocumentFragment);
        pfeContentSetAccordion.appendChild(accordionDocumentFragment);

        flush(() => {
          const pfeTabs = pfeContentSetTabs.querySelector("pfe-tabs");
          const pfeAccordion = pfeContentSetAccordion.querySelector("pfe-accordion");

          assert.isNotNull(pfeTabs.querySelector('[pfe-id="newHeader"]'));
          assert.isNotNull(pfeTabs.querySelector('[pfe-id="newPanel"]'));
          assert.isNotNull(pfeAccordion.querySelector('[pfe-id="newHeader"]'));
          assert.isNotNull(pfeAccordion.querySelector('[pfe-id="newPanel"]'));

          done();
        });
      });

      test("it should set pfe-tab-align on the tabs if the pfe-align attribute is present on pfe-content-set",
        () => {
          const pfeContentSet = document.querySelector("#align");
          const pfeTabs = pfeContentSet.querySelector("pfe-tabs");
          const alignValue = pfeContentSet.getAttribute("pfe-align");
          const pfeTabAlignValue = pfeTabs.getAttribute("pfe-tab-align");

          assert.equal(alignValue, pfeTabAlignValue);
        });

      test(
        "it should put content into an accordion if the pfe-breakpoint attribute is present and greater than the width of pfe-content-set parent",
        () => {
          const pfeContentSet = document.querySelector("#accordionBreakpoint");
          const pfeAccordion = pfeContentSet.querySelector("pfe-accordion");

          assert.isTrue(pfeContentSet.hasAttribute("pfe-breakpoint"));
          assert.isNotNull(pfeAccordion);
        });

      test(
        "it should put content into tabs if the pfe-breakpoint attribute is present and less than the width of pfe-content-set parent",
        () => {
          const pfeContentSet = document.querySelector("#tabsBreakpoint");
          const pfeTabs = pfeContentSet.querySelector("pfe-tabs");

          assert.isTrue(pfeContentSet.hasAttribute("pfe-breakpoint"));
          assert.isNotNull(pfeTabs);

        });

      test(
        "it should upgrade successfully with nested accordions",
        () => {
          const pfeContentSet = document.querySelector("#nested-accordion");
          const firstChild = pfeContentSet.children[0];
          const pfeAccordion = firstChild.querySelector("pfe-tab-panel").children[0];

          assert.isNotNull(firstChild);
          assert.equal(firstChild.tagName, "PFE-TABS");
          assert.equal(pfeAccordion.tagName, "PFE-ACCORDION");
        });

      test(
        "it should upgrade successfully with nested tabs",
        () => {
          const pfeContentSet = document.querySelector("#nested-tabs");
          const firstChild = pfeContentSet.children[0];
          const pfeTabs = firstChild.querySelector("pfe-tab-panel").children[0];

          assert.isNotNull(firstChild);
          assert.equal(firstChild.tagName, "PFE-TABS");
          assert.equal(pfeTabs.tagName, "PFE-TABS");
        });

      test("it should set the correct \"on\" attribute from a parent component that has a pfe-color attribute",
        done => {
          const band = document.querySelector("#band");
          const contentSet = band.querySelector("pfe-content-set");
          const tabs = contentSet.querySelector("pfe-tabs");
          const tab = tabs.querySelector("pfe-tab");
          const panel = tabs.querySelector("pfe-tab-panel");

          assert.equal(contentSet.getAttribute("on"), "dark");
          assert.equal(tabs.getAttribute("on"), "dark")
          assert.equal(tab.getAttribute("on"), "dark");
          assert.equal(panel.getAttribute("on"), "dark");

          const accordionBand = document.querySelector("#accordionBand");
          const accordionContentSet = accordionBand.querySelector("pfe-content-set");
          const accordion = accordionContentSet.querySelector("pfe-accordion");
          const accordionHeader = accordion.querySelector("pfe-accordion-header");
          const accordionPanel = accordion.querySelector("pfe-accordion-panel");

          assert.equal(accordionContentSet.getAttribute("on"), "dark");
          assert.equal(accordion.getAttribute("on"), "dark");
          assert.equal(accordionHeader.getAttribute("on"), "dark");
          assert.equal(accordionPanel.getAttribute("on"), "dark");

          band.removeAttribute("pfe-color");
          accordionBand.removeAttribute("pfe-color");

          flush(() => {
            assert.equal(contentSet.getAttribute("on"), "light");
            assert.equal(tabs.getAttribute("on"), "light")
            assert.equal(tab.getAttribute("on"), "light");
            assert.equal(panel.getAttribute("on"), "light");

            assert.equal(accordionContentSet.getAttribute("on"), "light");
            assert.equal(accordion.getAttribute("on"), "light");
            assert.equal(accordionHeader.getAttribute("on"), "light");
            assert.equal(accordionPanel.getAttribute("on"), "light");

            done();
          });
        });
    });

    suite("<pfe-content-set> with history", () => {
      test(
        "it should add ids to pfe-tabs, pfe-tab, and pfe-tab-panel if pfe-id attributes are set on pfe-content-set, pfe-content-set--header, and pfe-content-set--panel",
        () => {
          const pfeContentSet = document.querySelector('#my-content-set');
          const header = pfeContentSet.querySelector("[pfe-content-set--header]");
          const content = pfeContentSet.querySelector("[pfe-content-set--panel]");

          const tabs = pfeContentSet.querySelector("pfe-tabs");
          const tab1 = tabs.querySelector("pfe-tab");
          const panel1 = tabs.querySelector("pfe-tab-panel");

          assert.equal(pfeContentSet.id, tabs.getAttribute("pfe-id"));
          assert.equal(header.id, tab1.getAttribute("pfe-id"));
          assert.equal(content.id, panel1.getAttribute("pfe-id"));
        });

      test(
        "if pfe-content-set displays as tabs, it should show the correct tab if there is a querystring parameter in the URL",
        done => {
          // the parameter should be equal to the id of the tabset
          // the value should be equal to the id of the tab you want opened
          const searchParams = new URLSearchParams(window.location.search)
          searchParams.set("fromQueryString", "fromQueryStringTab2");
          var newPath = window.location.pathname + '?' + searchParams.toString();
          history.pushState(null, '', newPath);

          const fragment = document.createRange().createContextualFragment(`
            <pfe-content-set id="fromQueryString">
              <h2 pfe-content-set--header id="tab1">Tab 1</h2>
              <p pfe-content-set--panel>Panel 1</p>
              <h2 pfe-content-set--header id="fromQueryStringTab2">Tab 2</h2>
              <p pfe-content-set--panel>Panel 2</p>
            </pfe-content-set>
          `);

          document.body.appendChild(fragment);

          flush(() => {
            const contentSet = document.querySelector('#fromQueryString');
            const tabs = document.querySelector('[pfe-id="fromQueryString"]');
            const tab2 = tabs.querySelector('[pfe-id="fromQueryStringTab2"]');
            assert.equal(tabs.selectedIndex, 1);
            assert.isTrue(tab2.hasAttribute("aria-selected"));

            document.body.removeChild(contentSet);
            done();
          });
        });

      test(
        "if pfe-content-set displays as tabs, it should open the first tab if the querystring in the URL doesn't match the id of any of the tabs",
        done => {
          const searchParams = new URLSearchParams(window.location.search)
          searchParams.set("fromQueryString", "iDontExist");
          var newPath = window.location.pathname + '?' + searchParams.toString();
          history.pushState(null, '', newPath);

          const fragment = document.createRange().createContextualFragment(`
            <pfe-content-set id="fromQueryString">
              <h2 pfe-content-set--header id="tab1">Tab 1</h2>
              <p pfe-content-set--panel>Panel 1</p>
              <h2 pfe-content-set--header id="fromQueryStringTab2">Tab 2</h2>
              <p pfe-content-set--panel>Panel 2</p>
            </pfe-content-set>
          `);

          document.body.appendChild(fragment);

          flush(() => {
            const contentSet = document.querySelector("#fromQueryString");
            const tabs = document.querySelector('[pfe-id="fromQueryString"]');
            const tab1 = tabs.querySelector('[pfe-id="tab1"]');
            assert.equal(tabs.selectedIndex, 0);
            assert.isTrue(tab1.hasAttribute("aria-selected"));

            document.body.removeChild(contentSet);
            done();
          });
        });

      test(
        "if pfe-content-set displays as tabs, it should update the URL on tab selection if the pfe-tab-history attribute is present",
        done => {
          const tabs = document.querySelector('[pfe-id="my-content-set-history"]');
          const tab2 = tabs.querySelector('[pfe-id="historyTab2"]');

          tab2.click();

          flush(() => {
            const urlSearchParams = new URLSearchParams(window.location.search);
            assert.equal(urlSearchParams.get("my-content-set-history"), "historyTab2");
            assert.equal(tabs.selectedIndex, 1);
            assert.isTrue(tab2.hasAttribute("aria-selected"));
            done();
          });
        });
    });

  </script>
</body>

</html>
