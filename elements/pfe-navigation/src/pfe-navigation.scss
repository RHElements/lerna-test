@import "../../pfe-sass/pfe-sass";

$LOCAL: navigation;

:host {
  --pfe-navigation--Padding--vertical: calc(#{pfe-var(container-spacer)} * 4);
  --pfe-navigation--Padding--horizontal: #{pfe-var(container-spacer)};
  --pfe-navigation--BackgroundColor: #{pfe-color(surface--darkest)};
  --pfe-navigation--Color: #{pfe-color(surface--darkest--text)};
  --pfe-navigation--Border: #{pfe-var(surface--border-width)} #{pfe-var(
      surface--border-style
    )} transparent;
  --pfe-navigation--Width: auto;
  --pfe-navigation--Height: auto;

  @each $size in (md, lg, xl) {
    @media screen and (min-width: pfe-breakpoint(#{$size})) {
      --pfe-navigation--Width: calc(
        #{pfe-breakpoint(#{$size})} - calc(#{pfe-local(Padding--horizontal)} * 4)
      );
    }
  }

  display: block;
  font-size: 16px;
}

.pfe-navigation__wrapper {
  background-color: #{pfe-local(BackgroundColor)};
  position: relative;
  z-index: 1000;
}

.pfe-navigation__container {
  // need to do something here for IE11 since we can't redefine the variable
  @each $size in (md, lg, xl) {
    @media screen and (min-width: pfe-breakpoint(#{$size})) {
      // width: 1150px;
    }
  }
  margin: 0 auto;
  width: #{pfe-local(Width)};
  color: #{pfe-local(Color)};
  display: -ms-grid;
  display: grid;
  -ms-grid-columns: auto 1fr;
  grid-template-columns: auto 1fr;
  grid-template-areas: "logo main utility";
}

.pfe-navigation__container ::slotted(ul) {
  margin: 0;
  padding: 0;
}

.pfe-navigation__container ::slotted([slot="skip"]) {
  @include pfe-sr-only;
}

.pfe-navigation__container [pfe-icon="menu"] {
  @media (min-width: #{pfe-breakpoint(lg)}) {
    display: none;
  }
}

.pfe-navigation__utility--mobile {
  margin: 0;
  padding: 0;
  list-style-type: none;

  > a {
    display: block;
    padding: 16px;
    text-decoration: none;

    @media (min-width: #{pfe-breakpoint(md)}) {
      padding: 16px 0;
    }
  }
}

.pfe-navigation__container .pfe-navigation__utility ::slotted([slot="search"]),
.pfe-navigation__container .pfe-navigation__utility ::slotted([slot="login"]),
.pfe-navigation__container
  .pfe-navigation__utility
  ::slotted([slot="language"]) {
  @media (max-width: #{pfe-breakpoint(lg, $max: true)}) {
    display: none;
  }
}

.pfe-navigation__container ::slotted([slot="logo"]) {
  display: flex;
  align-items: center;
  -ms-grid-row: 1;
  -ms-grid-column: 1;
  grid-area: logo;
  margin: 0 16px;

  @media (min-width: #{pfe-breakpoint(md)}) {
    margin: 0 16px 0 0;
  }
}

.pfe-navigation__container ::slotted([slot="main"]) {
  display: none;
  -ms-grid-row: 1;
  -ms-grid-column: 2;
  grid-area: main;

  @media (min-width: #{pfe-breakpoint(lg)}) {
    display: block;
  }
}

.pfe-navigation__utility {
  display: flex;
  align-items: center;
  -ms-grid-row: 1;
  -ms-grid-column: 3;
  grid-area: utility;
  margin-left: 16px;
}

.pfe-navigation__overlay {
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 2;
}
