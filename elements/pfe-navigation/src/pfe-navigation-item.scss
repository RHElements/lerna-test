@import "../../pfe-sass/pfe-sass";

$LOCAL: navigation-item;

:host {
  --pfe-navigation-item--Color: #{pfe-color(text--on-dark)};
  --pfe-navigation-item--BackgroundColor: #{pfe-color(surface--darkest)};
	--pfe-navigation-item--BorderTopColor: transparent;

  height: 100%;
  display: flex;
  flex-flow: column nowrap;
  align-items: center;
  justify-content: center;
}

:host([pfe-icon]) {
  display: flex;
}

:host([pfe-icon]) ::slotted([slot="trigger"]) {
  font-size: 12px; 
}

:host([pfe-icon="bento"]) { //& #Icon {
  -webkit-text-fill-color: 	 #{pfe-local(Color)};
  fill: 	#{pfe-local(Color)};
}

:host([pfe-icon="user"]), // & #Icon,
:host([pfe-icon="globe"]),
:host([pfe-icon="search"]) {
  -webkit-text-stroke-color: #{pfe-local(Color)};
  stroke: #{pfe-local(Color)};
}

:host([pfe-icon="menu"]) {
  -webkit-text-stroke-color: #{pfe-local(Color)};
  -webkit-text-fill-color: #{pfe-local(Color)};
  stroke: #{pfe-local(Color)};
  fill: #{pfe-local(Color)};
}

:host([hidden]),
::slotted([slot="tray"][hidden]) {
	display: none;
}

::slotted([slot="trigger"]) {
  --pfe-theme--link--text-decoration: none;
  --pfe-theme--link--text-decoration--hover: none;
  --pfe-theme--link--text-decoration--focus: none;

  --pfe-broadcasted--color--ui-link:          #{pfe-local(Color)};
  --pfe-broadcasted--color--ui-link--hover:   #{pfe-local(Color)};
  --pfe-broadcasted--color--ui-link--visited: #{pfe-local(Color)};
  --pfe-broadcasted--color--ui-link--focus:   #{pfe-local(Color)};

  transition: all #{pfe-var(animation-timing)};
  cursor: pointer;
  text-decoration: none;

  position: relative;
  display: inline-block;
  background-color: #{pfe-local(BackgroundColor)};  //bg
  height: 100%;
  padding: 20px 16px !important;

  border-top: 4px solid #{pfe-local(BorderTopColor)};
  margin: 0;
  white-space: nowrap;

  font-family: #{pfe-var(font-family)};
  text-align: center;
  font-size: 14px;
  font-weight: 100;
  color: #{pfe-local(Color)};
}

::slotted([slot="trigger"]:hover),
:host([aria-current="location"]) ::slotted([slot="trigger"]) {
  --pfe-navigation-item--BorderTopColor:  #{pfe-color(surface--accent)};
}

::slotted([slot="trigger"][aria-expanded="true"]),
::slotted([slot="trigger"]:active),
::slotted([slot="trigger"]:focus) {
  --pfe-navigation-item--Color: #{pfe-color(text)};
  --pfe-navigation-item--BackgroundColor: #{pfe-color(surface--lightest)};
  --pfe-navigation-item--BorderTopColor:  #{pfe-color(surface--accent)};
}

::slotted([slot="trigger"]:focus:not(:focus-visible)) {
  outline: none;  // removes outline for mouse users, preserves it for keyboard users
}

::slotted([slot="tray"]) {
  width: 100%;
  margin: 0 auto;
  padding: 32px 0;

  transition: all #{pfe-var(animation-timing)};
  background-color: #{pfe-color(surface--lightest)};

  display: block;
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1;
  color: #{pfe-color(surface--lightest--text)};
}
