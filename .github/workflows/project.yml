name: Move card in project view when label updated
on: [issues, pull_request]
jobs:
  Move_Labeled_Card_On_Project_Board:
    runs-on: ubuntu-latest
    steps:
      - uses: takanabe/github-actions-automate-projects@v0.0.1
        if: github.event_name == 'issues' && github.event.action == 'labeled' && contains(github.event.issue.labels.*.name, 'discovery')
        env:
          GITHUB_TOKEN: ${{ secrets.ACTIONS }}
          GITHUB_PROJECT_URL: https://github.com/orgs/github/projects/2
          GITHUB_PROJECT_COLUMN_NAME: Needs discovery
      - uses: takanabe/github-actions-automate-projects@v0.0.1
        if: github.event_name == 'pull_request' && github.event.action == 'labeled' && contains(github.event.issue.labels.*.name, 'discovery')
        env:
          GITHUB_TOKEN: ${{ secrets.ACTIONS }}
          GITHUB_PROJECT_URL: https://github.com/orgs/github/projects/2
          GITHUB_PROJECT_COLUMN_NAME: Needs discovery
      # - uses: konradpabjan/move-labeled-or-milestoned-issue@v2.0
      #   with:
      #     action-token: "${{ secrets.ACTIONS }}"
      #     project-url: "https://github.com/orgs/github/projects/2"
      #     column-name: "On hold"
      #     label-name: "blocked"
      #     columns-to-ignore: "Done"
      # - uses: konradpabjan/move-labeled-or-milestoned-issue@v2.0
      #   with:
      #     action-token: "${{ secrets.ACTIONS }}"
      #     project-url: "https://github.com/orgs/github/projects/2"
      #     column-name: "Code review"
      #     label-name: "Ready: code review"
      #     columns-to-ignore: "Done"
      # - uses: konradpabjan/move-labeled-or-milestoned-issue@v2.0
      #   with:
      #     action-token: "${{ secrets.ACTIONS }}"
      #     project-url: "https://github.com/orgs/github/projects/2"
      #     column-name: "Testing"
      #     label-name: "Ready: branch testing"
      #     columns-to-ignore: "Done"
      # - uses: konradpabjan/move-labeled-or-milestoned-issue@v2.0
      #   with:
      #     action-token: "${{ secrets.ACTIONS }}"
      #     project-url: "https://github.com/orgs/github/projects/2"
      #     column-name: "Testing"
      #     label-name: "Ready: browser testing"
      #     columns-to-ignore: "Done"
      # - uses: konradpabjan/move-labeled-or-milestoned-issue@v2.0
      #   with:
      #     action-token: "${{ secrets.ACTIONS }}"
      #     project-url: "https://github.com/orgs/github/projects/2"
      #     column-name: "Ready to merge?"
      #     label-name: "Ready for merge"
      #     columns-to-ignore: "Done"
